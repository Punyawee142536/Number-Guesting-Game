<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>‡πÄ‡∏Å‡∏°‡πÄ‡∏î‡∏≤‡πÄ‡∏•‡∏Ç 2 ‡∏Ñ‡∏ô</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      padding: 20px;
    }
    
    .game-header {
      text-align: center;
      margin-bottom: 40px;
    }
    
    .game-title {
      font-size: 2.5rem;
      font-weight: 700;
      color: #2d3748;
      margin-bottom: 8px;
      letter-spacing: -0.025em;
    }
    
    .game-subtitle {
      font-size: 1.1rem;
      color: #718096;
      font-weight: 400;
    }
    
    .game-container {
      display: flex;
      gap: 40px;
      max-width: 1000px;
      margin: 0 auto;
      flex: 1;
    }
    
    .player {
      flex: 1;
      background: white;
      border-radius: 24px;
      padding: 32px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      border: 1px solid #e2e8f0;
    }
    
    #player1 { 
      border-left: 4px solid #667eea;
    }
    
    #player2 { 
      border-left: 4px solid #f093fb;
    }
    
    .player-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 32px;
    }
    
    .player-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      font-weight: 600;
      color: white;
    }
    
    #player1 .player-icon {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    #player2 .player-icon {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }
    
    .player-title {
      font-size: 1.5rem;
      font-weight: 600;
      color: #2d3748;
    }
    
    .input-group {
      margin-bottom: 20px;
    }
    
    .input-label {
      display: block;
      font-size: 0.875rem;
      font-weight: 500;
      color: #4a5568;
      margin-bottom: 8px;
    }
    
    input {
      width: 100%;
      padding: 16px;
      font-size: 1.1rem;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      background: #f7fafc;
      font-family: 'Inter', sans-serif;
      transition: all 0.2s ease;
      outline: none;
      letter-spacing: 2px;
      text-align: center;
      font-weight: 600;
    }
    
    input:focus {
      border-color: #667eea;
      background: white;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }
    
    input::placeholder {
      color: #a0aec0;
      font-weight: 400;
      letter-spacing: normal;
    }
    
    .guess-button {
      width: 100%;
      padding: 16px;
      font-size: 1.1rem;
      font-weight: 600;
      border: none;
      border-radius: 12px;
      color: white;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: 'Inter', sans-serif;
      margin-top: 8px;
    }
    
    #player1 .guess-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    #player2 .guess-button {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }
    
    .guess-button:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    }
    
    .guess-button:active {
      transform: translateY(0);
    }
    
    .history-section {
      margin-top: 32px;
    }
    
    .history-title {
      font-size: 1rem;
      font-weight: 600;
      color: #4a5568;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .history {
      max-height: 300px;
      overflow-y: auto;
      padding-right: 8px;
    }
    
    .history::-webkit-scrollbar {
      width: 4px;
    }
    
    .history::-webkit-scrollbar-track {
      background: #f1f5f9;
      border-radius: 2px;
    }
    
    .history::-webkit-scrollbar-thumb {
      background: #cbd5e0;
      border-radius: 2px;
    }
    
    .history-item {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 12px;
      font-size: 0.95rem;
      line-height: 1.5;
      transition: all 0.2s ease;
    }
    
    .history-item:hover {
      background: #edf2f7;
      border-color: #cbd5e0;
    }
    
    .history-item.win {
      background: linear-gradient(135deg, #48bb78, #38a169);
      color: white;
      border-color: #48bb78;
    }
    
    .guess-number {
      font-weight: 700;
      font-size: 1.1rem;
    }
    
    .result-correct {
      color: #48bb78;
      font-weight: 600;
    }
    
    .result-position {
      color: #ed8936;
      font-weight: 600;
    }
    
    .win-popup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(8px);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }
    
    .win-popup.show {
      opacity: 1;
      visibility: visible;
    }
    
    .win-content {
      background: white;
      border-radius: 24px;
      padding: 48px;
      text-align: center;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      max-width: 400px;
      width: 90%;
      animation: popIn 0.4s ease-out;
    }
    
    @keyframes popIn {
      0% {
        transform: scale(0.9);
        opacity: 0;
      }
      100% {
        transform: scale(1);
        opacity: 1;
      }
    }
    
    .win-icon {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, #48bb78, #38a169);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 24px;
      font-size: 2rem;
    }
    
    .win-title {
      font-size: 2rem;
      font-weight: 700;
      color: #2d3748;
      margin-bottom: 12px;
    }
    
    .win-message {
      font-size: 1.1rem;
      color: #718096;
      margin-bottom: 32px;
      line-height: 1.5;
    }
    
    .close-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 12px 32px;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: 'Inter', sans-serif;
    }
    
    .close-button:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
    }
    
    .empty-state {
      text-align: center;
      padding: 32px 16px;
      color: #a0aec0;
      font-style: italic;
    }
    
    @media (max-width: 768px) {
      body {
        padding: 16px;
      }
      
      .game-title {
        font-size: 2rem;
      }
      
      .game-container {
        flex-direction: column;
        gap: 24px;
      }
      
      .player {
        padding: 24px;
      }
      
      .win-content {
        padding: 32px 24px;
      }
      
      .win-title {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <div class="game-header">
    <h1 class="game-title">Number Guessing Game</h1>
    <p class="game-subtitle">‡πÄ‡∏Å‡∏°‡πÄ‡∏î‡∏≤‡πÄ‡∏•‡∏Ç 4 ‡∏´‡∏•‡∏±‡∏Å ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 2 ‡∏Ñ‡∏ô</p>
  </div>
  
  <div class="game-container">
    <div class="player" id="player1">
      <div class="player-header">
        <div class="player-icon">1</div>
        <h2 class="player-title">Player One</h2>
      </div>
      
      <div class="input-group">
        <label class="input-label">‡πÄ‡∏•‡∏Ç‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (4 ‡∏´‡∏•‡∏±‡∏Å)</label>
        <input type="password" id="secret1" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" maxlength="4">
      </div>
      
      <div class="input-group">
        <label class="input-label">‡πÄ‡∏î‡∏≤‡πÄ‡∏•‡∏Ç‡∏Ç‡∏≠‡∏á Player Two</label>
        <input type="text" id="guess1" placeholder="1234" maxlength="4">
      </div>
      
      <button class="guess-button" onclick="makeGuess(1)">‡πÄ‡∏î‡∏≤‡πÄ‡∏•‡∏¢!</button>
      
      <div class="history-section">
        <div class="history-title">
          üìù ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏≤
        </div>
        <div class="history" id="history1">
          <div class="empty-state">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏≤</div>
        </div>
      </div>
    </div>
    
    <div class="player" id="player2">
      <div class="player-header">
        <div class="player-icon">2</div>
        <h2 class="player-title">Player Two</h2>
      </div>
      
      <div class="input-group">
        <label class="input-label">‡πÄ‡∏•‡∏Ç‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (4 ‡∏´‡∏•‡∏±‡∏Å)</label>
        <input type="password" id="secret2" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" maxlength="4">
      </div>
      
      <div class="input-group">
        <label class="input-label">‡πÄ‡∏î‡∏≤‡πÄ‡∏•‡∏Ç‡∏Ç‡∏≠‡∏á Player One</label>
        <input type="text" id="guess2" placeholder="1234" maxlength="4">
      </div>
      
      <button class="guess-button" onclick="makeGuess(2)">‡πÄ‡∏î‡∏≤‡πÄ‡∏•‡∏¢!</button>
      
      <div class="history-section">
        <div class="history-title">
          üìù ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏≤
        </div>
        <div class="history" id="history2">
          <div class="empty-state">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏≤</div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="win-popup" id="winPopup">
    <div class="win-content">
      <div class="win-icon">üéâ</div>
      <div class="win-title">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢!</div>
      <div class="win-message" id="winMessage"></div>
      <button class="close-button" onclick="closeWinPopup()">‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠</button>
    </div>
  </div>

  <script>
    let secret1 = "", secret2 = "";
    let hasGuessed1 = false, hasGuessed2 = false;

    function makeGuess(player) {
      secret1 = document.getElementById("secret1").value;
      secret2 = document.getElementById("secret2").value;

      if (secret1.length !== 4 || secret2.length !== 4) {
        showToast("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏´‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏ù‡πà‡∏≤‡∏¢‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç‡∏•‡∏±‡∏ö 4 ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡πà‡∏≠‡∏ô!", "error");
        return;
      }

      const guess = document.getElementById(`guess${player}`).value;
      if (guess.length !== 4 || !/^\d+$/.test(guess)) {
        showToast("‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç 4 ‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á", "error");
        return;
      }

      const target = player === 1 ? secret2 : secret1;
      const result = checkGuess(guess, target);
      const historyDiv = document.getElementById(`history${player}`);
      
      // ‡∏•‡∏ö empty state
      if ((player === 1 && !hasGuessed1) || (player === 2 && !hasGuessed2)) {
        historyDiv.innerHTML = '';
        if (player === 1) hasGuessed1 = true;
        else hasGuessed2 = true;
      }
      
      const entry = document.createElement("div");
      entry.className = "history-item";
      
      if (result.correctPosition === 4) {
        entry.className += " win";
        entry.innerHTML = `
          <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 4px;">
            üéØ <span class="guess-number">${guess}</span>
            <span style="margin-left: auto;">üèÜ</span>
          </div>
          <div style="font-weight: 600;">‡∏ñ‡∏π‡∏Å‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß! ‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏ô‡∏∞‡πÅ‡∏•‡πâ‡∏ß!</div>
        `;
        showWinPopup(player);
      } else {
        entry.innerHTML = `
          <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 4px;">
            üéØ <span class="guess-number">${guess}</span>
          </div>
          <div>
            ‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏Ç <span class="result-correct">${result.correctNumber}</span> ‡∏ï‡∏±‡∏ß ‚Ä¢ 
            ‡∏ñ‡∏π‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á <span class="result-position">${result.correctPosition}</span> ‡∏ï‡∏±‡∏ß
          </div>
        `;
      }
      
      historyDiv.insertBefore(entry, historyDiv.firstChild);
      document.getElementById(`guess${player}`).value = "";
    }

    function checkGuess(guess, target) {
      let correctPosition = 0;
      let correctNumber = 0;

      const guessArr = guess.split("");
      const targetArr = target.split("");
      const guessUsed = [false, false, false, false];
      const targetUsed = [false, false, false, false];

      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ñ‡∏π‡∏Å
      for (let i = 0; i < 4; i++) {
        if (guessArr[i] === targetArr[i]) {
          correctPosition++;
          guessUsed[i] = true;
          targetUsed[i] = true;
        }
      }

      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ñ‡∏π‡∏Å
      for (let i = 0; i < 4; i++) {
        if (guessUsed[i]) continue;
        for (let j = 0; j < 4; j++) {
          if (!targetUsed[j] && guessArr[i] === targetArr[j]) {
            correctNumber++;
            targetUsed[j] = true;
            break;
          }
        }
      }

      return { correctPosition, correctNumber: correctPosition + correctNumber };
    }

    function showWinPopup(player) {
      const popup = document.getElementById("winPopup");
      const message = document.getElementById("winMessage");
      const playerName = player === 1 ? "Player One" : "Player Two";
      message.innerHTML = `<strong>${playerName}</strong> ‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞!<br>‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å‡πÄ‡∏•‡∏¢! üëè`;
      popup.classList.add("show");
    }

    function closeWinPopup() {
      document.getElementById("winPopup").classList.remove("show");
    }

    function showToast(message, type = "info") {
      const toast = document.createElement("div");
      const bgColor = type === "error" ? "#f56565" : "#48bb78";
      
      toast.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${bgColor};
        color: white;
        padding: 16px 20px;
        border-radius: 12px;
        font-family: 'Inter', sans-serif;
        font-weight: 500;
        box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        z-index: 2000;
        animation: slideIn 0.3s ease-out;
        max-width: 300px;
      `;
      
      toast.textContent = message;
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.style.animation = "slideOut 0.3s ease-in forwards";
        setTimeout(() => document.body.removeChild(toast), 300);
      }, 3000);
    }

    // ‡πÄ‡∏û‡∏¥‡πà‡∏° CSS animations
    const style = document.createElement('style');
    style.textContent = `
      @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
      @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
      }
    `;
    document.head.appendChild(style);

    // Enter key support
    document.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        const activeElement = document.activeElement;
        if (activeElement.id === 'guess1') makeGuess(1);
        else if (activeElement.id === 'guess2') makeGuess(2);
      }
    });

    // ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏ô input
    document.querySelectorAll('input[type="text"], input[type="password"]').forEach(input => {
      input.addEventListener('input', function(e) {
        this.value = this.value.replace(/[^0-9]/g, '');
      });
    });
  </script>
</body>
</html>
